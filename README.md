# HYPERLIQUID TRADING CLI

## Обзор продукта

Hyperliquid Trading CLI — это мощный интерфейс командной строки для автоматизации торговли на бирже Hyperliquid. Этот инструмент позволяет трейдерам и разработчикам взаимодействовать с API Hyperliquid и выполнять полный спектр торговых операций через простые команды терминала.

### Ключевые преимущества

- **Комплексный функционал торговли**: открытие и закрытие позиций, модификация параметров, управление рисками.
- **Гибкое частичное закрытие позиций**: закрытие точного процента (25%, 50%, 75%) существующих позиций.
- **Детальная аналитика**: отслеживание статистики счета, истории сделок, рыночных данных.
- **Автоматизация**: возможность интеграции в торговые скрипты и алгоритмические стратегии.
- **Поддержка Mainnet и Testnet**: работа как с основной, так и с тестовой сетью Hyperliquid.

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/your-username/hyperliquid-trading-cli.git
cd hyperliquid-trading-cli
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Настройте конфигурационный файл:
```bash
mkdir -p data
touch data/bot_testnet.json
```

4. Заполните файл конфигурации (`data/bot_testnet.json`):
```json
{
    "name": "Bot Testnet",
    "private_key": "ваш_приватный_ключ",
    "wallet_address": "ваш_адрес_кошелька",
    "network": "testnet",
    "default_leverage": 5,
    "default_stop_loss_percent": 10,
    "default_take_profit_percent": 20
}
```

## Команды

### Основные торговые операции

#### Открытие позиции

```bash
python main.py -b bot_testnet -type open -p ETH -a 100 -l 5 -d long -s 1900 -t 2200
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`open`)
- `-p` / `--pair`: Торговый актив (например, ETH, BTC)
- `-a` / `--amount`: Размер ордера в USD
- `-l` / `--leverage`: Плечо (кредитное плечо)
- `-d` / `--direction`: Направление позиции (`long` или `short`)
- `-s` / `--stop`: Цена стоп-лосс (опционально)
- `-t` / `--take_profit`: Цена тейк-профит (опционально)

#### Закрытие позиции

```bash
python main.py -b bot_testnet -type close -p ETH
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`close`)
- `-p` / `--pair`: Торговый актив

#### Немедленное закрытие позиции по рыночной цене

```bash
python main.py -b bot_testnet -type market_close -p ETH
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`market_close`)
- `-p` / `--pair`: Торговый актив

### Информационные команды

#### Проверка статистики аккаунта

```bash
python main.py -b bot_testnet -type check_stats
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`check_stats`)

#### Информация о конкретной позиции

```bash
python main.py -b bot_testnet -type info -p ETH
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`info`)
- `-p` / `--pair`: Торговый актив

#### Проверка цены актива

```bash
python main.py -b bot_testnet -type price -p BTC
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`price`)
- `-p` / `--pair`: Торговый актив

### Управление позициями

#### Модификация позиции

```bash
python main.py -b bot_testnet -type modify -p ETH -l 10 -s 1800 -t 2100
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`modify`)
- `-p` / `--pair`: Торговый актив
- `-l` / `--leverage`: Новое значение плеча (опционально)
- `-s` / `--stop`: Новая цена стоп-лосс (опционально)
- `-t` / `--take_profit`: Новая цена тейк-профит (опционально)

#### Частичное закрытие позиций

##### Закрытие 25% позиции

```bash
python main.py -b bot_testnet -type close_position_25 -p ETH
```

##### Закрытие 50% позиции

```bash
python main.py -b bot_testnet -type close_position_50 -p ETH
```

##### Закрытие 75% позиции

```bash
python main.py -b bot_testnet -type close_position_75 -p ETH
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`close_position_25`, `close_position_50`, `close_position_75`)
- `-p` / `--pair`: Торговый актив

### История торговли

```bash
python main.py -b bot_testnet -type history -p ETH -limit 20
```

Параметры:
- `-b` / `--bot`: Имя конфигурационного файла бота
- `-type` / `--operation`: Тип операции (`history`)
- `-p` / `--pair`: Торговый актив (опционально, если не указан - вся история)
- `-limit` / `--limit`: Лимит записей (опционально, по умолчанию 10)

### Вывод в JSON формате

Добавьте флаг `-j` к любой команде для получения результата в JSON формате:

```bash
python main.py -b bot_testnet -type info -p ETH -j
```

## Рабочие процессы и сценарии использования

### Сценарий 1: Открытие позиции и установка защитных ордеров

```bash
# Проверка текущей цены актива
python main.py -b bot_testnet -type price -p ETH

# Открытие длинной позиции с защитными ордерами
python main.py -b bot_testnet -type open -p ETH -a 100 -l 5 -d long -s 1900 -t 2200

# Проверка открытой позиции
python main.py -b bot_testnet -type info -p ETH
```

### Сценарий 2: Управление открытой позицией

```bash
# Проверка статистики аккаунта
python main.py -b bot_testnet -type check_stats

# Модификация стоп-лосса при движении цены
python main.py -b bot_testnet -type modify -p ETH -s 1950

# Частичное закрытие позиции (50%)
python main.py -b bot_testnet -type close_position_50 -p ETH

# Закрытие оставшейся части позиции по рынку
python main.py -b bot_testnet -type market_close -p ETH
```

### Сценарий 3: Масштабирование позиции (пирамидинг)

```bash
# Открытие начальной позиции
python main.py -b bot_testnet -type open -p BTC -a 100 -l 5 -d long

# Добавление к позиции (донабор)
python main.py -b bot_testnet -type open -p BTC -a 50 -l 5 -d long

# Частичное закрытие (фиксация прибыли)
python main.py -b bot_testnet -type close_position_25 -p BTC

# Модификация стоп-лосса для защиты прибыли
python main.py -b bot_testnet -type modify -p BTC -s <новая_цена>
```

## Особенности и ограничения

### Минимальный размер ордера

Hyperliquid имеет ограничение на минимальный размер ордера (обычно около $20). При частичном закрытии малых позиций может потребоваться увеличить процент закрытия или использовать полное закрытие.

Пример ошибки:
```
ОШИБКА: Размер закрываемой позиции (12.50 USD) меньше минимального ордера на Hyperliquid (20 USD).
Попробуйте увеличить процент закрытия или используйте 'market_close' для полного закрытия.
Минимальный процент для закрытия этой позиции: 40.0%
```

### Особенности Hyperliquid

- Все контракты на Hyperliquid номинированы в USD
- При указании торгового инструмента используйте только базовый актив (ETH, BTC)
- Тестовая сеть Hyperliquid имеет ограниченный функционал и может иметь отличия от основной сети

## Советы по оптимизации торговли

1. **Всегда проверяйте цену** перед открытием позиции с помощью команды `price`
2. **Используйте частичное закрытие** для фиксации прибыли при благоприятном движении рынка
3. **Устанавливайте стоп-лосс и тейк-профит** при открытии позиции для автоматического управления рисками
4. **Регулярно проверяйте статистику** командой `check_stats` для контроля общей картины
5. **Используйте маркет-ордера** (`market_close`) в условиях высокой волатильности для немедленного закрытия позиции

## Развитие продукта

Hyperliquid Trading CLI постоянно совершенствуется. Текущие направления развития:
- Интеграция с торговыми сигналами и оповещениями
- Автоматизация стратегий с использованием технического анализа
- Создание графического интерфейса для упрощения использования
- Расширенная аналитика и визуализация торговых результатов

## Заключение

Hyperliquid Trading CLI — это профессиональный инструмент для трейдеров, предоставляющий полный контроль над торговлей на бирже Hyperliquid. Простой и понятный интерфейс командной строки позволяет эффективно управлять позициями и автоматизировать торговые операции, открывая новые возможности как для ручного, так и для алгоритмического трейдинга. 
